package sbnz.reservation;

import pro.restommender.model.Reservation;

import java.util.List;

rule "Classify Discount - Level 0"
  agenda-group "reservation-number-discount"
  when 
    // TODO: proveriti da li da ostavimo samo jednu liniju, ili ove 3, 
    // jer u uve tri koristimo napredne funkcije, a ova jedna je jednostavnija
    $r: Reservation ($user: user)
    $rezervacije: List() from collect(Reservation() from $user.getReservations())
    eval($rezervacije.size() < 2)
    // $r: Reservation (user.getReservations().size() < 2)
  then 
    System.out.println("reservation number lt 2");
end

rule "Classify Discount - Level 1"
  agenda-group "reservation-number-discount"
  when 
    // TODO: isto sto i gore
    $r: Reservation (user.getReservations().size() >= 2 && user.getReservations().size() < 4)
  then 
    System.out.println("reservation number between 2 and 4");
end

rule "Classify Discount - Level 2"
  agenda-group "reservation-number-discount"
  when 
    // TODO: isto sto i gore
    $r: Reservation (user.getReservations().size() >= 4)
  then 
    System.out.println("reservation number gt 4");
end
